@using VocaDb.Model.Domain.Globalization

<!-- LyricsForSongEditViewModel -->

<div class="accordion-group">
	<div class="accordion-heading">
		<a class="accordion-toggle" data-toggle="collapse" data-parent="#lyricsAccordion" data-bind="click: toggleAccordion">
			<i class="icon icon-chevron-down"></i>
			<span data-bind="text: translationType"></span>
			<span data-bind="visible: showLanguageSelection(), text: '(' + $parents[1].languageNames[cultureCode()] + ')'"></span>
			<span data-bind="visible: source(), text: 'from ' + source()"></span>
		</a>
	</div>
	<div class="accordion-body collapse" data-bind="css: { in: isNew }">
		<div class="accordion-inner">
			<div>
				<p data-bind="visible: showLanguageSelection()">
					@Helpers.HelpLabel(ViewRes.Song.EditStrings.LyLanguage, "If multiple languages match, select the one that best represents the lyrics. If none of the options match, select 'Other/Unknown'.")
					@KnockoutHelpers.DropdownList(InterfaceLanguage.UserLanguageCultures.ToDictionaryFull("Other/Unknown"), "cultureCode")					
				</p>
				<p>
					@ViewRes.Song.EditStrings.LySource
					<input type="text" data-bind="textInput: source" class="input-xlarge" size="45" maxlength="255" />
				</p>
			</div>

			<textarea data-bind="value: value" cols="65" rows="30" class="input-xxlarge"></textarea>
			<br />

			<a data-bind="click: $parent.remove, visible: translationType() === 'Translation'" href="#" class="textLink deleteLink">@ViewRes.SharedStrings.Delete</a>

			<a data-bind="click: $parent.changeToOriginal, visible: translationType() === 'Translation' && id() && !$parent.original.id()" href="#" class="textLink editLink">Change to original</a>
			<a data-bind="click: $parent.changeToTranslation, visible: translationType() === 'Original' && id()" href="#" class="textLink editLink">Change to translation</a>
		</div>
	</div>
</div>